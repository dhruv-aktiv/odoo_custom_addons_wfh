<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="c_main_user_category" model="ir.module.category">
    <field name="name">Calendar Task</field>
    <field name="sequence">1</field>
  </record>
  <record id="c_user_category" model="ir.module.category">
    <field name="name">Calendar User</field>
    <field name="sequence">1</field>
    <field name="parent_id" ref="sec_app.c_main_user_category"/>
  </record>
  <record id="group_c_attendee" model="res.groups">
    <field name="name">Attendee</field>
    <field name="category_id" ref="sec_app.c_user_category"/>
  </record>
  <record id="group_c_user" model="res.groups">
    <field name="name">User</field>
    <field name="category_id" ref="sec_app.c_user_category"/>
    <field eval="[(4, ref('sec_app.group_c_attendee'))]" name="implied_ids"/>
  </record>
  <record id="group_c_manager" model="res.groups">
    <field name="name">Manager</field>
    <field name="category_id" ref="sec_app.c_user_category"/>
    <field eval="[(4, ref('sec_app.group_c_user'))]" name="implied_ids"/>
  </record>

  <function model="ir.model.data" name="write">
    <function model="ir.model.data" name="search">
      <value eval="[('module', '=', 'calendar'), ('name', '=', 'calendar_event_rule_employee')]"/>
    </function>
    <value eval="{'noupdate': False}"/>
  </function>

  <record id="calendar_event_rule_employee" model="ir.rule">
    <field name="model_id" ref="calendar.model_calendar_event"/>
    <field name="name">All Calendar Event for employees</field>
    <field name="domain_force">[('partner_ids','in',user.partner_id.id) ]</field>
    <!-- <field eval="[(5,0,0), (4, ref('sec_app.group_c_attendee'))]" name="groups"/> -->
    <field eval="[(6,0,[ref('sec_app.group_c_attendee')])]" name="groups"/>
    <field eval="True" name="perm_read"/>
    <field eval="False" name="perm_write"/>
    <field eval="False" name="perm_create"/>
    <field eval="False" name="perm_unlink"/>
  </record>


    <record id="calendar_event_rule_manager" model="ir.rule">
    <field name="model_id" ref="calendar.model_calendar_event"/>
    <field name="name">All Calendar Event for Manager</field>
    <field name="domain_force">[(1,'=',1)]</field>
    <field eval="[(4, ref('sec_app.group_c_manager'))]" name="groups"/>
    </record>

  <function model="ir.model.data" name="write">
    <function model="ir.model.data" name="search">
      <value eval="[('module', '=', 'calendar'), ('name', '=', 'calendar_event_rule_employee')]"/>
    </function>
    <value eval="{'noupdate': True}"/>
  </function>
</odoo>